[package]
name = "clean-repo"
version = "1.3.0"
edition = "2021"
authors = ["Mohammad Saeed <imsaeedsaeedi@gmail.com>"]
description = "A command-line tool that deletes files and directories ignored by your project's .gitignore"
license = "MIT"
repository = "https://github.com/msaeedsaeedi/clean-repo"
keywords = ["git", "cli", "cleanup", "gitignore"]
categories = ["command-line-utilities", "development-tools"]

[dependencies]
clap = { version = "4.5", features = ["derive", "color", "suggestions"] }
git2 = "0.19"
glob = "0.3"
anyhow = "1.0"
colored = "2.1"
indicatif = "0.17"

[profile.release]
opt-level = 2
lto = false          # Disable link-time optimization to speed up the build
strip = true         # Strip symbols for a smaller binary
codegen-units = 16   # Enable more parallelism in code generation
panic = 'abort'      # Smaller binary

[package.metadata.deb]
maintainer = "Mohammad Saeed <imsaeedsaeedi@gmail.com>"
section = "utils"
priority = "optional"
assets = [
    ["target/release/clean-repo", "usr/local/bin/", "755"],
    ["man/clean-repo.1", "usr/local/share/man/man1/", "644"],
]
extended-description = """\
clean-repo is a command-line tool that deletes files and directories \
ignored by your project's .gitignore. It helps clean up temporary, \
build, or generated files before committing or packaging your repository.\n\
\n\
Features:\n\
 - Cleans files based on .gitignore\n\
 - Safe dry-run mode by default (shows what would be deleted)\n\
 - Pattern exclusion to keep specific files\n\
 - Verbose and quiet modes\n\
 - Comprehensive man page documentation"""
